<ng-template #loadingTemplate>
  <tim-loading></tim-loading>
</ng-template>
<ng-container *ngIf="images; else loadingTemplate">

  <form [formGroup]="filterForm"
        style="padding:16px"
        fxLayout="row"
        fxLayoutGap="8px"
        fxLayoutAlign="start center">

    <div fxFlex="grow">
      <mat-form-field style="width: 99%">
        <input type="text"
               placeholder="Type to search.."
               [formControl]="searchTermControl"
               matInput>
      </mat-form-field>
    </div>

    <div fxFlex>
      <mat-checkbox [formControl]="displayDanlingImagesControl">
        Show Dangling Images
        <b>
          ({{danglingAmount}})
        </b>
      </mat-checkbox>
    </div>
  </form>

  <mat-card *ngFor="let image of images"
            fxLayout="row"
            fxLayoutAlign="start center"
            fxLayoutGap="8px">
    <mat-icon class="mat-text-primary mat-icon-48">iso</mat-icon>
    <div fxFlex="grow">
      <h2 style="margin-bottom: 0">
        <span *ngFor="let tag of image.RepoTags">
          {{tag}}
        </span>
        <br>
        <code>
          {{image.Id | slice:7:19}}
        </code>
      </h2>
    </div>
    <p class="text-nowrap">
      <b>{{image.Size | bytes}}</b>
    </p>
  </mat-card>

</ng-container>